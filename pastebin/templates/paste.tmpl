{{ block "meta" . }}
<meta name="paste_id" content="{{ .paste_id }}">
{{ end }}

{{ block "title" . }}
{{ if .paste.Title }}
{{ .paste.Title }}
{{ else }}
{{ .paste_id }}
{{ end }}
{{ end }}

{{ block "content" . }}
<div class="row mb-3">
    <div class="col">
        <form class="d-flex align-items-center" id="deleteform" action="/pastebin/{{ .paste_id }}/delete" method="post">
            <span>
                {{ range .paste.Tags }}
                <em><a class="text-decoration-none" href="/pastebin/search/?tags={{ . }}">{{ . }}</a></em>
                {{ end }}
            </span>
            <span class="text-muted ms-auto">
                <small>HITS - {{ .p_count }}</small>&nbsp;&nbsp;
                <input name="format" type="hidden" value="{{ .paste.Format }}">
                <a href="
                    {{ if .paste.GDriveDL }}
                        {{ .paste.GDriveDL }}
                    {{ else }}
                        /pastebinc/{{ .paste_id }}/download
                    {{ end }}
                    " class="btn btn-outline-secondary btn-sm" title="Download">
                    <span class="bi bi-download"></span>
                    <span class="visually-hidden">Download</span>
                </a>

                {{ if .deleteBtn }}
                {{ .csrfField }}
                <button class="btn btn-outline-secondary btn-sm" id="delete-btn" title="Delete" type="submit">
                    <span class="bi bi-trash3"></span>
                    <span class="visually-hidden">Delete</span>
                    {{ .csrfField }}
                </button>
                {{ end }}

                {{ if .driveHosted }}
                <a href="/pastebin/about#PasteToGoogleDrive" class="btn btn-outline-secondary btn-sm"
                    title="Google Drive Hosted Content!" target="_blank">
                    <img src="//{{ .staticDomain }}/pastebin/static/img/drive.png" alt="Google Drive!">
                    <span id="driveHosted" class="visually-hidden">Google Drive Hosted Content!</span>
                </a>
                {{ end }}
            </span>
        </form>
    </div>
</div>
<div class="row">
    <div class="col">
        <h1 class="visually-hidden">
            {{ if .paste.Title }}
            {{ .paste.Title }}
            {{ else }}
            {{ .paste_id }}
            {{ end }}
        </h1>
        <article id="content" role="main">
            <noscript>
                <iframe src="/pastebinc/{{ .paste_id }}/content" sandbox></iframe>
            </noscript>
            <iframe class="d-none" id="content-frame" src="about:blank" sandbox="allow-same-origin"></iframe>
            <pre class="d-none text-light" id="content-text"></pre>
        </article>
        <div class="d-none text-light" id="loader">
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Loading content, please wait ... <span id="loader-result"></span>
        </div>
    </div>
</div>
{{ if not .driveHosted }}
<div class="row">
    <div class="col">
        <p class="text-muted">
            <small><em>
                    This paste will expire on <a class="text-decoration-none"
                        href="/pastebin/about#WhenDoesStuffExpire">{{ .sixMonthsAway }}</a>.
                    Paste to <a class="text-decoration-none" href="/pastebin/about#PasteToGoogleDrive">Google Drive</a>
                    if you'd rather not have
                    it expire!
                </em></small>
        </p>
    </div>
</div>
{{ end }}
{{ end }}

{{ block "moretail" . }}
<input type="hidden" id="pasteID" value="{{ .paste_id }}">
<input type="hidden" id="format" value="{{ .paste.Format }}">
<script src="//{{ .staticDomain }}/pastebin/static/js/20220310/paste.js"></script>
{{ end }}
